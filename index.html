<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
  </head>
  <body>
    <div id="messageBoard"></div>
    <input id="message" />
    <button onclick="send(event)">Send message</button>
    <script>
      const { ipcRenderer } = require("electron");

      ipcRenderer.on("remote::message", (event, message) => {
        console.log(message);
        var node = document.createElement("span");
        const textNode = document.createTextNode(message.message.content);
        node.appendChild(textNode);
        document.getElementById("messageBoard").appendChild(node);
      });

      function send(event) {
        event.preventDefault();

        const message = document.getElementById("message").value;

        ipcRenderer.send("interface::message", { message });
      }
    </script>
  </body>
</html>
